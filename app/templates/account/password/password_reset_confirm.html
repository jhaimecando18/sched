{% extends "base.html" %}
{% load static %}

{% block title %}
Password Reset
{% endblock %}

{% block head %}
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Ubuntu:wght@400;700&display=swap"
    rel="stylesheet">

<!-- Custom CSS !important -->
<link rel="stylesheet" href="{% static 'home.css' %}">
<link rel="stylesheet" href="{% static 'custom.css'%}">
{% endblock %}

{% block content %}

{% if validlink %}

    <div class="gradient-form">
        <div class="card">
            <div class="card-body p-md-5" id="form-section">
                <div class="text-center mb-5">
                    <img src="{% static 'images/css-logo.png' %}" alt="PLM logo" style="height: 110px; width:auto;" class="mb-2">
                    <h2 class="card-title">Change your password</h2>
                </div>
                <form method="post">{% csrf_token %}
                    <div class="form-outline border-start-0 mb-3">
                        {{ form.new_password1.errors }}
                        <input type="password" class="form-control form-control-lg text-uppercase" name="{{ form.new_password1.name }}"
                            required value="" />
                        <label class="form-label" for="newPassword">New Password</label>
                    </div>
                    <div class="form-outline border-start-0 mb-4">
                        {{ form.new_password2.errors }}
                        <input type="password" class="form-control form-control-lg text-uppercase" name="{{ form.new_password2.name }}" />
                        <label class="form-label" for="confirm-pass">Confirm Password</label>
                    </div>
                    <div class="text-center py-1 mb-3">
                        <button class="btn btn-primary btn-block rounded-pill btn-lg" type="submit" name="service"
                            value="2">Change Password</button>
                        <!-- would lead to login page again -->
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% else %}

<div class="gradient-form">
    <div class="card">
        <div class="card-body p-md-5 d-none" id="info-section">
            <h3 class="card-title mb-5">From the Javawockeez Team</h3>
            <p class="card-text">
                This is simply a dummy text of the printing and typesetting industry.
                Lorem Ipsum has been industry's standard dummy text ever since the 1500s,
                when an unknown printer took a galley of type and scrambled it to make a
                type specimen book. Wabalabadubdub.. boop!
            </p>
        </div>
        <div class="card-body p-md-5" id="form-section">
            <div class="text-center">
                <img src="{% static 'images/css-logo.png' %}" alt="PLM logo" style="height: 110px; width:auto;" class="mb-2">
                <h2 class="card-title">Forgot Password</h2>
            </div>

            <p>The password reset link was invalid, possibly because it has already been used.  Please request a new password reset.</p>
            <a class="btn btn-primary btn-block rounded-pill btn-lg mb-3" href="{% url 'account:login' %}"
                id="newpassword">Log in</a>


        </div>
    </div>
</div>

{% endif %}

{% endblock %}

{% block js %}
<!-- MDB javascript *place link near closing tag of body -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js"></script>
{% endblock %}
